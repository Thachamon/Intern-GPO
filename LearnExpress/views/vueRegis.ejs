<%- include("./partials/header") %>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
<!--include axios js-->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue-loading-overlay@4"></script>
<link href="https://cdn.jsdelivr.net/npm/vue-loading-overlay@4/dist/vue-loading.css" rel="stylesheet">

<div id="app">
    <div class="container mt-5">
        <a href="/" class="btn btn-primary mb-5">Go Back</a>
        <h1>Register Account</h1>
        <!--<form action="/vueRegis" method="POST" autocomplete="off"> -->

            <div class="form-group">
                <label>First Name</label>
                <input type="text"  name="fname" class="form-control" placeholder="ex.Winai">
            </div>

            <div class="form-group">
                <label>Last Name</label>
                <input type="text"  name="lname" class="form-control" placeholder="ex.Jaidee">
            </div>

            <div class="form-group">
                <label for="exampleInputEmail1">Email address</label>
                <input type="email" name="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
                placeholder="Enter Your Email">
            </div>

            <div class="form-group">
                <label>Date of Birth</label>
                <input type="date" name="birth" class="form-control" >
            </div>  

            <div class="form-group">
                <label for="gender">Gender </label>
                    <select name="gender">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>
            </div>

            <div class="form-group">
                <label>Username</label>
                <input type="text"  class="form-control" name="username" placeholder="Enter Your Username">
            </div>

            <div class="form-group">
                <label for="exampleInputPassword1">Password</label>
                <input type="password" name="password" class="form-control" id="exampleInputPassword1" minlength="8" placeholder="Enter Your Password">
            </div>

            <button v-on:click="submitData" class="btn btn-primary">Register</button>
            
        </form>
    </div>
</div>

<%- include("./partials/footer") %>

<!--vue script post form by axios-->
<script>
    const app = Vue.createApp({}).mount('#app')
    app.use(VueLoading);
    app.component('loading', VueLoading)
    
    new Vue({
        el: '#app',
        data: {
            
        },
        
        methods: {
            submitData: function (message, event) {
                // now we have access to the native event
                var self = this;
                axios.post('/vueRegis', this.$data)
                .then(function (response){
                    self = response.data;
                })

            }
        },
        components: {

        }
    })
</script>